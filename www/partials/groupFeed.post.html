<ion-view title="Posts">
<ion-content>
<ion-nav-buttons side='right'>
    <button class="button button-dark" ng-click="updatePosts()"><i class="icon ion-refresh"></i></button>
    <button class="button button-dark" ng-click="addPost()"> <i class="icon ion-plus-round"> </i> </button>
</ion-nav-buttons>
<div class="item" ng-show="posts.length == 0 || posts === undefined">
    <center>
        This group doesn't seem to have any posts... <br/>
        Create one?
    </center>
</div>
<div class="list card" ng-repeat="post in posts">
    <div ui-sref="home.group({id:{{post.id}}})" class="item item-avatar">
        <img src="img/effort_task.icon.png" width="15%" />
        <h2>{{post.user.username}} > {{post.group.name}}</h2>
        <p>{{post.time}}</p>
    </div>
    <div class="item item-body">
        <p>{{post.content}}</p>
    </div>
    <div class="item tabs tabs-secondary tabs-icon-left">
        <a class="tab-item" ng-click="viewPost(post.id)">
            <i class="icon ion-chatbox"></i>
            Comment
        </a>
        <a class="tab-item" ui-sref="home.group({id:{{post.group_id}}})">
            <i class="icon ion-ios7-people"></i>
            {{post.group.name}}
        </a>
        <a class="tab-item" ng-click="showActions(post.id, $event)" ng-show="actionCount(post.id)">
            <i class="icon ion-ios7-more"></i>
        </a>
    </div>
</div>
<ion-infinite-scroll
    ng-if="notReachedEnd"
    icon="ion-loading-c"
    on-infinite="loadMore()">
</ion-infinite-scroll>
</ion-content>
</ion-view>
